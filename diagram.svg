<?xml version="1.0" encoding="UTF-8"?>
<svg width="1400" height="1000" viewBox="0 0 1400 1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
     refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
    <marker id="greenarrow" markerWidth="10" markerHeight="7" 
     refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4caf50" />
    </marker>
    <marker id="redarrow" markerWidth="10" markerHeight="7" 
     refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#f44336" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1400" height="1000" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="700" y="30" text-anchor="middle" font-size="20" font-weight="bold" fill="#333">
    Beaver's Choice Paper Company - Multi-Agent System Workflow
  </text>
  
  <!-- Customer Input -->
  <rect x="50" y="80" width="150" height="60" fill="#e3f2fd" stroke="#1976d2" stroke-width="3" rx="5"/>
  <text x="125" y="105" text-anchor="middle" font-size="14" font-weight="bold">Customer</text>
  <text x="125" y="120" text-anchor="middle" font-size="12">Request</text>
  
  <!-- ORCHESTRATOR AGENT (Central Hub) -->
  <rect x="350" y="60" width="200" height="100" fill="#fff3e0" stroke="#f57c00" stroke-width="3" rx="5"/>
  <text x="450" y="85" text-anchor="middle" font-size="16" font-weight="bold">🎯 ORCHESTRATOR</text>
  <text x="450" y="105" text-anchor="middle" font-size="12">• Receives requests</text>
  <text x="450" y="120" text-anchor="middle" font-size="12">• Coordinates 6 agents</text>
  <text x="450" y="135" text-anchor="middle" font-size="12">• Manages workflow</text>
  
  <!-- CUSTOMER NEGOTIATION AGENT (EXTRA CREDIT) -->
  <rect x="650" y="60" width="180" height="100" fill="#ffe0b2" stroke="#ff9800" stroke-width="3" rx="5"/>
  <text x="740" y="85" text-anchor="middle" font-size="14" font-weight="bold">🤝 CUSTOMER</text>
  <text x="740" y="100" text-anchor="middle" font-size="14" font-weight="bold">NEGOTIATION</text>
  <text x="740" y="120" text-anchor="middle" font-size="11">• Price negotiations</text>
  <text x="740" y="135" text-anchor="middle" font-size="11">• Customer context analysis</text>
  
  <!-- INVENTORY AGENT -->
  <rect x="50" y="250" width="180" height="120" fill="#e8f5e8" stroke="#4caf50" stroke-width="2" rx="5"/>
  <text x="140" y="275" text-anchor="middle" font-size="14" font-weight="bold">📦 INVENTORY</text>
  <text x="140" y="295" text-anchor="middle" font-size="11">• Check stock levels</text>
  <text x="140" y="310" text-anchor="middle" font-size="11">• Assess reorder needs</text>
  <text x="140" y="325" text-anchor="middle" font-size="11">• Get delivery dates</text>
  <text x="140" y="340" text-anchor="middle" font-size="10">Tools: get_stock_level,</text>
  <text x="140" y="355" text-anchor="middle" font-size="10">get_supplier_delivery_date</text>
  
  <!-- QUOTING AGENT -->
  <rect x="280" y="250" width="180" height="120" fill="#f3e5f5" stroke="#9c27b0" stroke-width="2" rx="5"/>
  <text x="370" y="275" text-anchor="middle" font-size="14" font-weight="bold">💰 QUOTING</text>
  <text x="370" y="295" text-anchor="middle" font-size="11">• Generate quotes</text>
  <text x="370" y="310" text-anchor="middle" font-size="11">• Apply discounts</text>
  <text x="370" y="325" text-anchor="middle" font-size="11">• Historical analysis</text>
  <text x="370" y="340" text-anchor="middle" font-size="10">Tools: search_quote_history,</text>
  <text x="370" y="355" text-anchor="middle" font-size="10">get_all_inventory</text>
  
  <!-- SALES AGENT -->
  <rect x="510" y="250" width="180" height="120" fill="#ffebee" stroke="#f44336" stroke-width="2" rx="5"/>
  <text x="600" y="275" text-anchor="middle" font-size="14" font-weight="bold">SALES</text>
  <text x="600" y="295" text-anchor="middle" font-size="11">• Process orders</text>
  <text x="600" y="310" text-anchor="middle" font-size="11">• Update database</text>
  <text x="600" y="325" text-anchor="middle" font-size="11">• Handle transactions</text>
  <text x="600" y="340" text-anchor="middle" font-size="10">Tools: create_transaction,</text>
  <text x="600" y="355" text-anchor="middle" font-size="10">get_cash_balance</text>
  
  <!-- CUSTOMER SERVICE AGENT -->
  <rect x="740" y="250" width="180" height="120" fill="#e1f5fe" stroke="#00bcd4" stroke-width="2" rx="5"/>
  <text x="830" y="275" text-anchor="middle" font-size="14" font-weight="bold">📞 CUSTOMER</text>
  <text x="830" y="290" text-anchor="middle" font-size="14" font-weight="bold">SERVICE</text>
  <text x="830" y="310" text-anchor="middle" font-size="11">• Format responses</text>
  <text x="830" y="325" text-anchor="middle" font-size="11">• Professional communication</text>
  <text x="830" y="340" text-anchor="middle" font-size="11">• Handle explanations</text>
  <text x="830" y="355" text-anchor="middle" font-size="10">Tools: generate_financial_report</text>
  
  <!-- BUSINESS ADVISOR AGENT (EXTRA CREDIT) -->
  <rect x="970" y="250" width="180" height="120" fill="#fff9c4" stroke="#fbc02d" stroke-width="3" rx="5"/>
  <text x="1060" y="275" text-anchor="middle" font-size="14" font-weight="bold">📈 BUSINESS</text>
  <text x="1060" y="290" text-anchor="middle" font-size="14" font-weight="bold">ADVISOR</text>
  <text x="1060" y="310" text-anchor="middle" font-size="11">• Transaction analysis</text>
  <text x="1060" y="325" text-anchor="middle" font-size="11">• Efficiency recommendations</text>
  <text x="1060" y="340" text-anchor="middle" font-size="11">• Revenue optimization</text>
  <text x="1060" y="355" text-anchor="middle" font-size="10" fill="#f57c00">⭐ EXTRA CREDIT</text>
  
  <!-- TERMINAL ANIMATION SYSTEM (EXTRA CREDIT) -->
  <rect x="280" y="430" width="400" height="80" fill="#e8f4fd" stroke="#2196f3" stroke-width="3" rx="5"/>
  <text x="480" y="455" text-anchor="middle" font-size="14" font-weight="bold">🎬 TERMINAL ANIMATION SYSTEM</text>
  <text x="480" y="475" text-anchor="middle" font-size="11">• Real-time progress visualization</text>
  <text x="480" y="490" text-anchor="middle" font-size="11">• Agent activity tracking • Customer status updates</text>
  <text x="480" y="505" text-anchor="middle" font-size="10" fill="#f57c00">⭐ EXTRA CREDIT</text>
  
  <!-- DATABASE -->
  <rect x="450" y="550" width="180" height="80" fill="#e8eaf6" stroke="#3f51b5" stroke-width="2" rx="5"/>
  <text x="540" y="575" text-anchor="middle" font-size="14" font-weight="bold">🗄️ SQLite Database</text>
  <text x="540" y="595" text-anchor="middle" font-size="11">• Inventory data</text>
  <text x="540" y="610" text-anchor="middle" font-size="11">• Transaction history</text>
  
  <!-- CUSTOMER RESPONSE OUTPUT -->
  <rect x="450" y="700" width="180" height="80" fill="#e8f5e8" stroke="#4caf50" stroke-width="3" rx="5"/>
  <text x="540" y="725" text-anchor="middle" font-size="14" font-weight="bold">✉️ Customer</text>
  <text x="540" y="740" text-anchor="middle" font-size="14" font-weight="bold">Response</text>
  <text x="540" y="760" text-anchor="middle" font-size="11">+ Animation Display</text>
  
  <!-- MAIN WORKFLOW ARROWS -->
  <!-- Customer to Orchestrator -->
  <line x1="200" y1="110" x2="350" y2="110" stroke="#333" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Orchestrator to Customer Negotiation -->
  <line x1="550" y1="110" x2="650" y2="110" stroke="#ff9800" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="600" y="105" font-size="10" fill="#ff9800" font-weight="bold">Negotiation</text>
  
  <!-- Orchestrator to Core Agents -->
  <line x1="400" y1="160" x2="170" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="430" y1="160" x2="350" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="460" y1="160" x2="580" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="490" y1="160" x2="810" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Business Advisor Monitoring (bidirectional) -->
  <line x1="920" y1="310" x2="1050" y2="310" stroke="#fbc02d" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="1050" y1="330" x2="920" y2="330" stroke="#fbc02d" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <text x="985" y="305" font-size="9" fill="#f57c00" font-weight="bold">Analytics</text>
  <text x="985" y="345" font-size="9" fill="#f57c00" font-weight="bold">Recommendations</text>
  
  <!-- Animation System Connections -->
  <line x1="280" y1="430" x2="200" y2="370" stroke="#2196f3" stroke-width="2" stroke-dasharray="3,3"/>
  <line x1="400" y1="430" x2="400" y2="370" stroke="#2196f3" stroke-width="2" stroke-dasharray="3,3"/>
  <line x1="520" y1="430" x2="650" y2="370" stroke="#2196f3" stroke-width="2" stroke-dasharray="3,3"/>
  <line x1="600" y1="430" x2="830" y2="370" stroke="#2196f3" stroke-width="2" stroke-dasharray="3,3"/>
  <text x="200" y="400" font-size="9" fill="#2196f3">Animation</text>
  <text x="350" y="400" font-size="9" fill="#2196f3">Feeds</text>
  
  <!-- Database Connections -->
  <line x1="230" y1="350" x2="450" y2="570" stroke="#666" stroke-width="1" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <line x1="460" y1="350" x2="530" y2="550" stroke="#666" stroke-width="1" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <line x1="600" y1="370" x2="580" y2="550" stroke="#666" stroke-width="1" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <line x1="1060" y1="370" x2="630" y2="550" stroke="#fbc02d" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  
  <!-- Final Output Flow -->
  <line x1="480" y1="510" x2="520" y2="700" stroke="#4caf50" stroke-width="3" marker-end="url(#greenarrow)"/>
  <text x="520" y="620" font-size="11" fill="#4caf50" font-weight="bold">Animated</text>
  <text x="520" y="635" font-size="11" fill="#4caf50" font-weight="bold">Response</text>
  
  <!-- Negotiation Flow (Customer Agent) -->
  <path d="M 740 160 Q 800 200 740 240" stroke="#ff9800" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="780" y="200" font-size="10" fill="#ff9800" font-weight="bold">Negotiation</text>
  <text x="780" y="215" font-size="10" fill="#ff9800" font-weight="bold">Loop</text>
  
  <!-- Data Flow Labels -->
  <text x="270" y="95" font-size="11" fill="#666">Initial Request</text>
  <text x="220" y="190" font-size="10" fill="#666">Inventory Check</text>
  <text x="300" y="190" font-size="10" fill="#666">Quote Generation</text>
  <text x="480" y="190" font-size="10" fill="#666">Order Processing</text>
  <text x="720" y="190" font-size="10" fill="#666">Response Formatting</text>
  
  <!-- AGENT TOOLS DETAIL BOXES -->
  
  <!-- Inventory Tools -->
  <rect x="50" y="380" width="180" height="40" fill="#c8e6c9" stroke="#4caf50" stroke-width="1" rx="3"/>
  <text x="140" y="395" text-anchor="middle" font-size="10" font-weight="bold">INVENTORY TOOLS</text>
  <text x="140" y="410" text-anchor="middle" font-size="9">get_stock_level(), get_all_inventory(),</text>
  <text x="140" y="420" text-anchor="middle" font-size="9">get_supplier_delivery_date()</text>
  
  <!-- Quoting Tools -->
  <rect x="280" y="380" width="180" height="40" fill="#f8bbd9" stroke="#9c27b0" stroke-width="1" rx="3"/>
  <text x="370" y="395" text-anchor="middle" font-size="10" font-weight="bold">QUOTING TOOLS</text>
  <text x="370" y="410" text-anchor="middle" font-size="9">search_quote_history(),</text>
  <text x="370" y="420" text-anchor="middle" font-size="9">pricing algorithms</text>
  
  <!-- Sales Tools -->
  <rect x="510" y="380" width="180" height="40" fill="#ffcdd2" stroke="#f44336" stroke-width="1" rx="3"/>
  <text x="600" y="395" text-anchor="middle" font-size="10" font-weight="bold">SALES TOOLS</text>
  <text x="600" y="410" text-anchor="middle" font-size="9">create_transaction(),</text>
  <text x="600" y="420" text-anchor="middle" font-size="9">get_cash_balance()</text>
  
  <!-- Customer Service Tools -->
  <rect x="740" y="380" width="180" height="40" fill="#b3e5fc" stroke="#00bcd4" stroke-width="1" rx="3"/>
  <text x="830" y="395" text-anchor="middle" font-size="10" font-weight="bold">SERVICE TOOLS</text>
  <text x="830" y="410" text-anchor="middle" font-size="9">generate_financial_report(),</text>
  <text x="830" y="420" text-anchor="middle" font-size="9">response formatting</text>
  
  <!-- Business Advisor Tools -->
  <rect x="970" y="380" width="180" height="40" fill="#fff3b8" stroke="#fbc02d" stroke-width="1" rx="3"/>
  <text x="1060" y="395" text-anchor="middle" font-size="10" font-weight="bold">ADVISOR TOOLS</text>
  <text x="1060" y="410" text-anchor="middle" font-size="9">Analytics engine,</text>
  <text x="1060" y="420" text-anchor="middle" font-size="9">efficiency algorithms</text>
  
  <!-- Negotiation Tools -->
  <rect x="650" y="180" width="180" height="40" fill="#ffe0b2" stroke="#ff9800" stroke-width="1" rx="3"/>
  <text x="740" y="195" text-anchor="middle" font-size="10" font-weight="bold">NEGOTIATION TOOLS</text>
  <text x="740" y="210" text-anchor="middle" font-size="9">Customer profiling,</text>
  <text x="740" y="220" text-anchor="middle" font-size="9">price negotiation logic</text>
  
  <!-- SYSTEM FEATURES HIGHLIGHTS -->
  <rect x="50" y="850" width="500" height="120" fill="#f1f8e9" stroke="#689f38" stroke-width="2" rx="5"/>
  <text x="60" y="870" font-size="14" font-weight="bold" fill="#388e3c">🌟 ENHANCED SYSTEM FEATURES:</text>
  <text x="60" y="890" font-size="12" fill="#333">✅ 5 Core Agents + 2 Extra Credit Agents (7 total)</text>
  <text x="60" y="905" font-size="12" fill="#333">✅ Real-time terminal animations for customer experience</text>
  <text x="60" y="920" font-size="12" fill="#333">✅ Customer negotiation workflows with context analysis</text>
  <text x="60" y="935" font-size="12" fill="#333">✅ Business intelligence with proactive recommendations</text>
  <text x="60" y="950" font-size="12" fill="#333">✅ Full SOLID architecture with modular design</text>
  
  <!-- LEGEND -->
  <rect x="600" y="850" width="350" height="120" fill="white" stroke="#ccc" stroke-width="1" rx="5"/>
  <text x="610" y="870" font-size="12" font-weight="bold">Legend:</text>
  <line x1="610" y1="885" x2="640" y2="885" stroke="#333" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="650" y="890" font-size="10">Primary Control Flow</text>
  <line x1="610" y1="905" x2="640" y2="905" stroke="#ff9800" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="650" y="910" font-size="10">Negotiation Flow (Extra Credit)</text>
  <line x1="610" y1="925" x2="640" y2="925" stroke="#fbc02d" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <text x="650" y="930" font-size="10">Business Analytics (Extra Credit)</text>
  <line x1="610" y1="945" x2="640" y2="945" stroke="#2196f3" stroke-width="2" stroke-dasharray="3,3"/>
  <text x="650" y="950" font-size="10">Animation Feeds (Extra Credit)</text>
  
  <!-- PERFORMANCE METRICS BOX -->
  <rect x="1000" y="850" width="300" height="120" fill="#fce4ec" stroke="#e91e63" stroke-width="2" rx="5"/>
  <text x="1010" y="870" font-size="14" font-weight="bold" fill="#c2185b">📊 SYSTEM CAPABILITIES:</text>
  <text x="1010" y="890" font-size="11" fill="#333">• Processes 20+ requests per run</text>
  <text x="1010" y="905" font-size="11" fill="#333">• AI-powered decision making</text>
  <text x="1010" y="920" font-size="11" fill="#333">• Real-time financial tracking</text>
  <text x="1010" y="935" font-size="11" fill="#333">• Professional customer communication</text>
  <text x="1010" y="950" font-size="11" fill="#333">• Business intelligence integration</text>
  
</svg>